# 🚀 نظام ERP نظام المبيعات - النسخة المحدثة

## 📋 **نظرة عامة**

نظام ERP مصغر لشركة نظام المبيعات العراقية المتخصصة في العناية الشخصية للرجال. النظام يتضمن بوت تلجرام ذكي لإدارة الطلبات، ونظام ويب شامل لإدارة العمليات التجارية.

## ✨ **المميزات الجديدة (محدثة)**

### 🔧 **إصلاحات قاعدة البيانات**
- ✅ إصلاح عمود `order_id` المفقود
- ✅ إضافة عمود `city_code` للمحافظات
- ✅ تحسين نظام إنشاء قاعدة البيانات
- ✅ معالجة الأخطاء في قاعدة البيانات

### 💰 **نظام العمولات المحسن**
- ✅ عمولة 50 سنت لكل قطعة من sales V1/V2
- ✅ عمولة 30 سنت لكل قطعة من رأس الماكينة الإضافي
- ✅ عمولة 20 سنت لكل قطعة من كابل الشحن
- ✅ حساب العمولات تلقائياً حسب نوع المنتج

### 📊 **صفحة الموظفين المحسنة**
- ✅ عرض أداء الموظفين لليوم المحدد
- ✅ إحصائيات المبيعات والعمولات
- ✅ فلتر التاريخ لعرض الأداء
- ✅ ملخص شامل لأداء الفريق

### 📈 **تقارير الأداء الشاملة**
- ✅ تقرير أداء شامل بصيغة Excel
- ✅ أوراق عمل منفصلة (ملخص عام، أداء الموظفين، إحصائيات المنتجات)
- ✅ تصدير مباشر من صفحة الموظفين
- ✅ دعم صيغ XLS و XLSX

### 🤖 **البوت التلجرام المحسن**
- ✅ أمر `/exporttoday` لتصدير جميع التقارير
- ✅ معالجة محسنة للطلبات
- ✅ رسائل تأكيد مفصلة
- ✅ دعم جميع أوامر النظام

## 🛠️ **المميزات الأساسية (موجودة)**

### 📱 **بوت تلجرام ذكي**
- استقبال الطلبات بتنسيق سريع
- معالجة تلقائية للبيانات
- تحديد المنتجات تلقائياً من السعر
- إضافة أكواد المحافظات تلقائياً
- نظام إرجاع الطلبات

### 🌐 **نظام ويب شامل**
- لوحة تحكم تفاعلية
- إدارة الطلبات والمبيعات
- إدارة الموظفين والعملاء
- إدارة المنتجات والمخزون
- نظام المستخدمين والصلاحيات

### 📊 **تقارير وإحصائيات**
- إحصائيات يومية وأسبوعية
- رسوم بيانية تفاعلية
- تصدير البيانات بصيغ مختلفة
- تتبع أداء الموظفين

## 🚀 **كيفية الاستخدام**

### **1. تسجيل الدخول**
```
المستخدم: admin
كلمة المرور: admin123
```

### **2. إضافة طلب عبر البوت**
```
اسم الموظفة/مريانا
أسم العميل/علي
المحافظة/بغداد
اقرب نقطة دالة/رئاسة العبيدي شارع عشرين قرب صيدلية الرئاسه
الرقم/07713984437
العدد/1
السعر/40000
الملاحظات/وقت التوصيل العصر
```

### **3. أوامر البوت**
- `/start` - بدء النظام
- `/products` - عرض المنتجات
- `/order` - إضافة طلب جديد
- `/stats` - إحصائيات اليوم
- `/exporttoday` - تصدير جميع التقارير

### **4. تصدير التقارير**
- **ملف الشحن**: `Orders_YYYY-MM-DD.xls`
- **ملف HRM**: `HRM_YYYY-MM-DD.xlsx`
- **تقرير الأداء**: `Performance_Report_YYYY-MM-DD.xlsx`

## 📁 **هيكل المشروع**

```
sales system/
├── app.py                 # التطبيق الرئيسي
├── templates/            # قوالب HTML
│   ├── dashboard.html    # لوحة التحكم
│   ├── employees.html    # إدارة الموظفين
│   ├── invoices.html     # إدارة الطلبات
│   └── reports.html      # التقارير
├── static/               # الملفات الثابتة
├── exports/              # ملفات التصدير
├── company_template/     # قوالب الشركة
└── requirements_web.txt  # المتطلبات
```

## 🔧 **متطلبات التشغيل**

```bash
pip install -r requirements_web.txt
```

### **المكتبات المطلوبة**
- Flask 2.3.3
- Flask-SQLAlchemy 3.0.5
- Flask-Login 0.6.3
- pandas 2.1.4
- openpyxl 3.1.2
- python-telegram-bot 20.7

## 🚀 **تشغيل النظام**

### **1. تشغيل التطبيق**
```bash
python app.py
```

### **2. تشغيل البوت**
```bash
python run_bot.bat
```

### **3. الوصول للنظام**
```
http://localhost:5000
```

## 📊 **نظام العمولات**

| المنتج | العمولة | الوصف |
|--------|---------|--------|
| sales V1 | 50 سنت | ماكينة حلاقة أساسية |
| sales V2 | 50 سنت | ماكينة حلاقة متقدمة |
| رأس ماكينة إضافي | 30 سنت | قطع غيار |
| كابل شحن | 20 سنت | ملحقات |

## 🎯 **المميزات المستقبلية**

- [ ] نظام إشعارات متقدم
- [ ] تطبيق موبايل
- [ ] نظام تتبع الشحنات
- [ ] تقارير مالية متقدمة
- [ ] نظام إدارة المخزون
- [ ] واجهة API للأنظمة الخارجية

## 📞 **الدعم الفني**

للاستفسارات والدعم الفني، يرجى التواصل مع فريق التطوير.

---

**🚀 نظام المبيعات - العناية الشخصية للرجل العصري**


